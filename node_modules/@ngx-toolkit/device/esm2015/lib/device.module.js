/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { NgModule, Optional } from '@angular/core';
import { DeviceService } from './device.service';
import { DEVICE, USER_AGENT } from './device.token';
/**
 * @param {?=} userAgent
 * @return {?}
 */
export function deviceResolverFactory(userAgent) {
    if (!userAgent && window) {
        userAgent = window.navigator.userAgent;
    }
    return DeviceService.resolveDevice(userAgent);
}
export class DeviceModule {
    /**
     * In root module to provide the DEVICE
     * @return {?}
     */
    static forRoot() {
        return {
            ngModule: DeviceModule,
            providers: [
                {
                    provide: DEVICE,
                    useFactory: deviceResolverFactory,
                    deps: [[new Optional(), USER_AGENT]]
                }
            ]
        };
    }
}
DeviceModule.decorators = [
    { type: NgModule }
];
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2aWNlLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0BuZ3gtdG9vbGtpdC9kZXZpY2UvIiwic291cmNlcyI6WyJsaWIvZGV2aWNlLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQUEsT0FBTyxFQUFzQixRQUFRLEVBQUUsUUFBUSxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBRXRFLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxrQkFBa0IsQ0FBQztBQUMvQyxPQUFPLEVBQUMsTUFBTSxFQUFFLFVBQVUsRUFBQyxNQUFNLGdCQUFnQixDQUFDOzs7OztBQUVsRCxNQUFNLFVBQVUscUJBQXFCLENBQUMsU0FBa0I7SUFDdEQsSUFBSSxDQUFDLFNBQVMsSUFBSSxNQUFNLEVBQUU7UUFDeEIsU0FBUyxHQUFHLE1BQU0sQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDO0tBQ3hDO0lBRUQsT0FBTyxhQUFhLENBQUMsYUFBYSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2hELENBQUM7QUFHRCxNQUFNLE9BQU8sWUFBWTs7Ozs7SUFJdkIsTUFBTSxDQUFDLE9BQU87UUFDWixPQUFPO1lBQ0wsUUFBUSxFQUFFLFlBQVk7WUFDdEIsU0FBUyxFQUFFO2dCQUNUO29CQUNFLE9BQU8sRUFBRSxNQUFNO29CQUNmLFVBQVUsRUFBRSxxQkFBcUI7b0JBQ2pDLElBQUksRUFBRSxDQUFDLENBQUMsSUFBSSxRQUFRLEVBQUUsRUFBRSxVQUFVLENBQUMsQ0FBQztpQkFDckM7YUFDRjtTQUNGLENBQUM7SUFDSixDQUFDOzs7WUFoQkYsUUFBUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TW9kdWxlV2l0aFByb3ZpZGVycywgTmdNb2R1bGUsIE9wdGlvbmFsfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RGV2aWNlfSBmcm9tICcuL2RldmljZS5tb2RlbCc7XG5pbXBvcnQge0RldmljZVNlcnZpY2V9IGZyb20gJy4vZGV2aWNlLnNlcnZpY2UnO1xuaW1wb3J0IHtERVZJQ0UsIFVTRVJfQUdFTlR9IGZyb20gJy4vZGV2aWNlLnRva2VuJztcblxuZXhwb3J0IGZ1bmN0aW9uIGRldmljZVJlc29sdmVyRmFjdG9yeSh1c2VyQWdlbnQ/OiBzdHJpbmcpOiBEZXZpY2Uge1xuICBpZiAoIXVzZXJBZ2VudCAmJiB3aW5kb3cpIHtcbiAgICB1c2VyQWdlbnQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgfVxuXG4gIHJldHVybiBEZXZpY2VTZXJ2aWNlLnJlc29sdmVEZXZpY2UodXNlckFnZW50KTtcbn1cblxuQE5nTW9kdWxlKClcbmV4cG9ydCBjbGFzcyBEZXZpY2VNb2R1bGUge1xuICAvKipcbiAgICogSW4gcm9vdCBtb2R1bGUgdG8gcHJvdmlkZSB0aGUgREVWSUNFXG4gICAqL1xuICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IERldmljZU1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7XG4gICAgICAgICAgcHJvdmlkZTogREVWSUNFLFxuICAgICAgICAgIHVzZUZhY3Rvcnk6IGRldmljZVJlc29sdmVyRmFjdG9yeSxcbiAgICAgICAgICBkZXBzOiBbW25ldyBPcHRpb25hbCgpLCBVU0VSX0FHRU5UXV1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH07XG4gIH1cbn1cbiJdfQ==